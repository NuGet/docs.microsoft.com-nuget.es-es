---
title: Información general y flujo de trabajo del uso de paquetes NuGet
description: Información general sobre el proceso de consumo de paquetes de NuGet en un proyecto, con vínculos a otras partes específicas del proceso.
author: JonDouglas
ms.author: jodou
ms.date: 03/22/2018
ms.topic: conceptual
ms.openlocfilehash: d1d6df3bcc36d8a78fcee97099b301c9ffc440d9
ms.sourcegitcommit: f3d98c23408a4a1c01ea92fc45493fa7bd97c3ee
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/17/2021
ms.locfileid: "112323640"
---
# <a name="package-consumption-workflow"></a><span data-ttu-id="ad8d5-103">Flujo de trabajo de consumo de paquetes</span><span class="sxs-lookup"><span data-stu-id="ad8d5-103">Package consumption workflow</span></span>

<span data-ttu-id="ad8d5-104">Entre la galería de nuget.org y las galerías de paquetes privadas que puede establecer su organización, puede encontrar decenas de miles de paquetes muy útiles para usarlos en sus aplicaciones y servicios.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-104">Between nuget.org and private package galleries that your organization might establish, you can find tens of thousands of highly useful packages to use in your apps and services.</span></span> <span data-ttu-id="ad8d5-105">Pero, independientemente del origen, el consumo de un paquete sigue el mismo flujo de trabajo general.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-105">But regardless of the source, consuming a package follows the same general workflow.</span></span>

![Flujo para ir al origen de un paquete, buscar un paquete, instalarlo en un proyecto y agregar una instrucción Using y llamadas a la API del paquete](media/Overview-01-GeneralFlow.png)

<span data-ttu-id="ad8d5-107">\* Solo _Visual Studio y `dotnet.exe`. El comando `nuget install` no modifica los archivos de proyecto ni el archivo `packages.config`; las entradas tienen que administrarse manualmente._</span><span class="sxs-lookup"><span data-stu-id="ad8d5-107">\* _Visual Studio and `dotnet.exe` only. The `nuget install` command does not modify project files or the `packages.config` file; entries must be managed manually._</span></span>

<span data-ttu-id="ad8d5-108">Para más información, vea [Búsqueda y evaluación de paquetes](../consume-packages/finding-and-choosing-packages.md) y [¿Qué sucede cuando se instala un paquete?](../concepts/package-installation-process.md)</span><span class="sxs-lookup"><span data-stu-id="ad8d5-108">For further details, see [Finding and Choosing Packages](../consume-packages/finding-and-choosing-packages.md) and [What happens when a package is installed?](../concepts/package-installation-process.md).</span></span>

<span data-ttu-id="ad8d5-109">NuGet recuerda la identidad y el número de versión de cada paquete instalado, registrándolo en el archivo del proyecto (con [PackageReference](../consume-packages/package-references-in-project-files.md)) o [`packages.config`](../reference/packages-config.md), según el tipo de proyecto o la versión de NuGet.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-109">NuGet remembers the identity and version number of each installed package, recording it in either the project file (using [PackageReference](../consume-packages/package-references-in-project-files.md)) or [`packages.config`](../reference/packages-config.md), depending on project type and your version of NuGet.</span></span> <span data-ttu-id="ad8d5-110">Con NuGet 4.0 y versiones posteriores, es preferible usar PackageReference, aunque esto se puede configurar en Visual Studio mediante la [interfaz de usuario del Administrador de paquetes](install-use-packages-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="ad8d5-110">With NuGet 4.0+, PackageReference is preferred, although this is configurable in Visual Studio through the [Package Manager UI](install-use-packages-visual-studio.md).</span></span> <span data-ttu-id="ad8d5-111">En cualquier caso, puede consultar el archivo adecuado en cualquier momento para ver la lista completa de dependencias del proyecto.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-111">In any case, you can look in the appropriate file at any time to see the full list of dependencies for your project.</span></span>

> [!Tip]
> <span data-ttu-id="ad8d5-112">Es recomendable comprobar siempre la licencia de cada paquete que vaya a usar en el software.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-112">It's prudent to always check the license for each package you intend to use in your software.</span></span> <span data-ttu-id="ad8d5-113">En nuget.org encontrará un vínculo de **información de la licencia** a la derecha de la página de descripción de cada paquete.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-113">On nuget.org, you find a **License Info** link on the right side of each package's description page.</span></span> <span data-ttu-id="ad8d5-114">Si un paquete no especifica los términos de licencia, póngase en contacto directamente con el propietario del paquete mediante el vínculo de **contacto con los propietarios** de la página del paquete.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-114">If a package does not specify license terms, contact the package owner directly using the **Contact owners** link on the package page.</span></span> <span data-ttu-id="ad8d5-115">Microsoft no le ofrece licencia para propiedad intelectual de proveedores de paquetes de terceros ni es responsable de la información proporcionada por terceros.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-115">Microsoft does not license any intellectual property to you from third party package providers and is not responsible for information provided by third parties.</span></span>

<span data-ttu-id="ad8d5-116">Al instalar paquetes, NuGet suele comprobar si el paquete ya está disponible en su memoria caché.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-116">When installing packages, NuGet typically checks if the package is already available from its cache.</span></span> <span data-ttu-id="ad8d5-117">Puede borrar manualmente esta memoria caché desde la línea de comandos, tal y como se describe en [Administración de paquetes globales y carpetas de caché](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="ad8d5-117">You can manually clear this cache from the command line, as described on [Managing the global packages and cache folders](../consume-packages/managing-the-global-packages-and-cache-folders.md).</span></span>

<span data-ttu-id="ad8d5-118">NuGet también garantiza que las plataformas de destino admitidas por el paquete son compatibles con el proyecto.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-118">NuGet also makes sure that the target frameworks supported by the package are compatible with your project.</span></span> <span data-ttu-id="ad8d5-119">Si el paquete no contiene ensamblados compatibles, NuGet muestra un mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-119">If the package does not contain compatible assemblies, NuGet displays an error.</span></span> <span data-ttu-id="ad8d5-120">Vea [Resolución de errores de paquetes incompatibles](../concepts/dependency-resolution.md#resolving-incompatible-package-errors).</span><span class="sxs-lookup"><span data-stu-id="ad8d5-120">See [Resolving incompatible package errors](../concepts/dependency-resolution.md#resolving-incompatible-package-errors).</span></span>

<span data-ttu-id="ad8d5-121">Al agregar el código del proyecto a un repositorio de origen, no se suelen incluir los paquetes de NuGet.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-121">When adding project code to a source repository, you typically don't include NuGet packages.</span></span> <span data-ttu-id="ad8d5-122">Quienes más adelante clonen el repositorio o de alguna manera adquieran el proyecto (por ejemplo, agentes de compilación en sistemas como Visual Studio Team Services), tendrán que restaurar los paquetes necesarios antes de ejecutar una compilación:</span><span class="sxs-lookup"><span data-stu-id="ad8d5-122">Those who later clone the repository or otherwise acquire the project, including build agents on systems like Visual Studio Team Services, must restore the necessary packages prior to running a build:</span></span>

![Flujo para restaurar paquetes de NuGet clonando un repositorio y usando un comando de restauración](media/Overview-02-RestoreFlow.png)

<span data-ttu-id="ad8d5-124">La [restauración de paquetes](../consume-packages/package-restore.md) usa la información del archivo de proyecto o de `packages.config` para volver a instalar todas las dependencias.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-124">[Package Restore](../consume-packages/package-restore.md) uses the information in the project file or `packages.config` to reinstall all dependencies.</span></span> <span data-ttu-id="ad8d5-125">Tenga en cuenta que existen diferencias en el proceso implicado, como se describe en [Dependency Resolution](../concepts/dependency-resolution.md) (Resolución de dependencias).</span><span class="sxs-lookup"><span data-stu-id="ad8d5-125">Note that there are differences in the process involved, as described in [Dependency Resolution](../concepts/dependency-resolution.md).</span></span> <span data-ttu-id="ad8d5-126">Además, en el diagrama anterior no se muestra un comando de restauración para la consola del Administrador de paquetes porque, si se encuentra en la consola, ya está en el contexto de Visual Studio, que normalmente restaura los paquetes de forma automática y proporciona el comando de nivel de la solución, tal y como se muestra.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-126">Also, the diagram above does not show a restore command for the Package Manager Console because if you're with the Console you're already in the context of Visual Studio, which typically restores packages automatically and provides the solution-level command as shown.</span></span>

<span data-ttu-id="ad8d5-127">A veces es necesario volver a instalar los paquetes que ya están incluidos en un proyecto, que también podrían volver a instalar las dependencias.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-127">Occasionally it's necessary to reinstall packages that are already included in a project, which may also reinstall dependencies.</span></span> <span data-ttu-id="ad8d5-128">Esto resulta sencillo con el comando `nuget reinstall` o la consola del Administrador de paquetes NuGet.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-128">This is easy to do using the `nuget reinstall` command or the NuGet Package Manager Console.</span></span> <span data-ttu-id="ad8d5-129">Para más información, vea [Reinstalación y actualización de paquetes](../consume-packages/reinstalling-and-updating-packages.md).</span><span class="sxs-lookup"><span data-stu-id="ad8d5-129">For details, see [Reinstalling and Updating Packages](../consume-packages/reinstalling-and-updating-packages.md).</span></span>

<span data-ttu-id="ad8d5-130">Por último, el comportamiento de NuGet se controla con los archivos `NuGet.Config`.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-130">Finally, NuGet's behavior is driven by `NuGet.Config` files.</span></span> <span data-ttu-id="ad8d5-131">Se pueden usar varios archivos para centralizar determinados valores a niveles diferentes, como se explica en [Configuración del comportamiento de NuGet](../consume-packages/configuring-nuget-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="ad8d5-131">Multiple files can be used to centralize certain settings at different levels, as explained in [Configuring NuGet Behavior](../consume-packages/configuring-nuget-behavior.md).</span></span>

## <a name="ways-to-install-a-nuget-package"></a><span data-ttu-id="ad8d5-132">Formas de instalar un paquete NuGet</span><span class="sxs-lookup"><span data-stu-id="ad8d5-132">Ways to install a NuGet Package</span></span>

<span data-ttu-id="ad8d5-133">Los paquetes NuGet se descargan y se instalan mediante cualquiera de los métodos de la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-133">NuGet packages are downloaded and installed using any of the methods in the following table.</span></span>

| <span data-ttu-id="ad8d5-134">Herramienta</span><span class="sxs-lookup"><span data-stu-id="ad8d5-134">Tool</span></span> | <span data-ttu-id="ad8d5-135">Plataformas</span><span class="sxs-lookup"><span data-stu-id="ad8d5-135">Platforms</span></span> | <span data-ttu-id="ad8d5-136">Descripción</span><span class="sxs-lookup"><span data-stu-id="ad8d5-136">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="ad8d5-137">CLI de dotnet</span><span class="sxs-lookup"><span data-stu-id="ad8d5-137">dotnet CLI</span></span>](install-use-packages-dotnet-cli.md) | <span data-ttu-id="ad8d5-138">Todas</span><span class="sxs-lookup"><span data-stu-id="ad8d5-138">All</span></span> | <span data-ttu-id="ad8d5-139">Herramienta CLI para las bibliotecas .NET Core y .NET Standard y para los proyectos de estilo SDK que tienen como destino .NET Framework (consulte [Atributo SDK](/dotnet/core/tools/csproj#additions)).</span><span class="sxs-lookup"><span data-stu-id="ad8d5-139">CLI tool for .NET Core and .NET Standard libraries, and for SDK-style projects that target .NET Framework (see [SDK attribute](/dotnet/core/tools/csproj#additions)).</span></span> <span data-ttu-id="ad8d5-140">Recupera el paquete identificado con \<package_name\> y agrega una referencia al archivo del proyecto.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-140">Retrieves the package identified by \<package_name\> and adds a reference to the project file.</span></span> <span data-ttu-id="ad8d5-141">También recupera e instala las dependencias.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-141">Also retrieves and installs dependencies.</span></span> |
| <span data-ttu-id="ad8d5-142">Programa para la mejora</span><span class="sxs-lookup"><span data-stu-id="ad8d5-142">Visual Studio</span></span> | <span data-ttu-id="ad8d5-143">Windows y Mac</span><span class="sxs-lookup"><span data-stu-id="ad8d5-143">Windows and Mac</span></span> | <span data-ttu-id="ad8d5-144">Ofrece una interfaz de usuario a través de la cual puede examinar, seleccionar e instalar paquetes con sus dependencias en un proyecto desde el origen del paquete especificado.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-144">Provides a UI through which you can browse, select, and install packages and their dependencies into a project from a specified package source.</span></span> <span data-ttu-id="ad8d5-145">Agrega las referencias a paquetes instalados en el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-145">Adds references to installed packages to the project file.</span></span><ul><li>[<span data-ttu-id="ad8d5-146">Instalación y administración de paquetes con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="ad8d5-146">Install and manage packages using Visual Studio</span></span>](install-use-packages-visual-studio.md)</li><li>[<span data-ttu-id="ad8d5-147">Incluir un paquete NuGet en el proyecto (Mac)</span><span class="sxs-lookup"><span data-stu-id="ad8d5-147">Including a NuGet package in your project (Mac)</span></span>](/visualstudio/mac/nuget-walkthrough)</li></ul> |
| [<span data-ttu-id="ad8d5-148">Consola del administrador de paquetes (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="ad8d5-148">Package Manager Console (Visual Studio)</span></span>](install-use-packages-powershell.md) | <span data-ttu-id="ad8d5-149">Solo Windows</span><span class="sxs-lookup"><span data-stu-id="ad8d5-149">Windows only</span></span> | <span data-ttu-id="ad8d5-150">Recupera el paquete identificado con \<package_name\> del origen seleccionado, lo instala en el proyecto de la solución que se especifique y, luego, agrega una referencia al archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-150">Retrieves and installs the package identified by \<package_name\> from a selected source into a specified project in the solution, then adds a reference to the project file.</span></span> <span data-ttu-id="ad8d5-151">También recupera e instala las dependencias.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-151">Also retrieves and installs dependencies.</span></span> |
| [<span data-ttu-id="ad8d5-152">CLI de nuget.exe</span><span class="sxs-lookup"><span data-stu-id="ad8d5-152">nuget.exe CLI</span></span>](install-use-packages-nuget-cli.md) | <span data-ttu-id="ad8d5-153">Todas</span><span class="sxs-lookup"><span data-stu-id="ad8d5-153">All</span></span> | <span data-ttu-id="ad8d5-154">Herramienta CLI para bibliotecas de .NET Framework y proyectos de estilo diferente de SDK que tienen como destino las bibliotecas de .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-154">CLI tool for .NET Framework libraries and non-SDK-style projects that target .NET Standard libraries.</span></span> <span data-ttu-id="ad8d5-155">Recupera el paquete identificado con \<package_name\> y expande su contenido en una carpeta del directorio actual. También puede recuperar todos los paquetes que aparecen en un archivo `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-155">Retrieves the package identified by \<package_name\> and expands its contents into a folder in the current directory; can also retrieve all packages listed in a `packages.config` file.</span></span> <span data-ttu-id="ad8d5-156">También recupera e instala las dependencias, pero no realiza ningún cambio a los archivos de proyecto ni `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="ad8d5-156">Also retrieves and installs dependencies, but makes no changes to project files or `packages.config`.</span></span> |
